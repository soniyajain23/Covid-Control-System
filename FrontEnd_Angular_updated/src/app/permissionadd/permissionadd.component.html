<div *ngIf="isPermitted; else permissionForm">
    Permission requested!
</div>

<ng-template #permissionForm>
    <div class="row col-sm-6" style="max-width:350px;">
      <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>

        <div class="form-group">
            <label for="day">Day</label>
            <input type="text" class="form-control" name="day" [(ngModel)]="form.day" #day="ngModel" required />
            <div *ngIf="f.submitted && day.invalid">
              <div *ngIf="day.errors.required">Day is required</div>
            </div>
        </div>


        <div class="form-group">
            <label for="msg">Reason</label>
            <input type="text" class="form-control" name="msg" [(ngModel)]="form.msg" #msg="ngModel" required />
            <div *ngIf="f.submitted && msg.invalid">
              <div *ngIf="msg.errors.required">Reason is required</div>
            </div>
        </div>

        <div class="form-group">
            <label for="duration">Duration</label>
            <input type="number" min="0" class="form-control" name="duration" [(ngModel)]="form.duration" #duration="ngModel" required />
            <div *ngIf="f.submitted && duration.invalid">
              <div *ngIf="duration.errors.required">Duration is required</div>
            </div>
          </div>
      
        
        <div class="form-group">
          <button class="btn btn-primary">Submit</button>
          <div *ngIf="f.submitted && isPermissionFailed" class="alert alert-warning">
            Permission Request failed!<br/>{{errorMessage}}
          </div>
        </div>
      </form>
    </div>
  </ng-template>